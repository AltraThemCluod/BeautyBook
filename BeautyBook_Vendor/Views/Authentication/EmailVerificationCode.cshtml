@{
    ViewBag.Title = "Email Verification Code";
    Layout = null;
}

<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Metatags -->
    <meta charset=utf-8>
    <meta name=viewport content="width=device-width, initial-scale=1.0, user-scalable=0">
    <meta name=description content="">
    <meta name=keywords content="">
    <meta name=author content="">
    <title>@ViewBag.Title :: Zaan Vendor</title>

    <!-- Favicons -->
    <link rel="icon" type="image/png" sizes="32x32" href="~/Content/assets/images/favicons/favicon.png">
    @*<link rel="apple-touch-icon" sizes="152x152" href="~/Content/assets/images/favicons/apple-touch-icon.png">
        <link rel="icon" type="image/png" sizes="16x16" href="~/Content/assets/images/favicons/favicon-16x16.png">
        <link rel="manifest" href="~/Content/assets/images/favicons/site.webmanifest">
        <link rel="mask-icon" href="~/Content/assets/images/favicons/safari-pinned-tab.svg" color="#5bbad5">*@
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.2/css/all.min.css">
    <meta name="msapplication-TileColor" content="#e94a1f">
    <meta name="theme-color" content="#ffffff">

    <!-- Font Stylesheet -->
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://use.fontawesome.com/releases/v5.0.6/css/all.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css" />


    <!-- Main Stylesheet -->
    
    <link href="~/Content/assets/css/style2.css" rel="stylesheet" />
    <link href="~/Content/assets/css/main.min.css" rel=stylesheet>
    <link href="~/Content/assets/css/arabic.css" rel=stylesheet>

</head>
<body>

    <div class="main_page h-100">
        <div class="container h-100">
            <div class="row justify-content-center align-items-center h-100">
                <div class="main_form w-100">
                    <!-- <img src="img/pink_circle.png" class="img-fluid pink"> -->
                    <div class="main_form_inner position-relative card">
                        <div class="row align-items-center ">
                            <div class="col-lg-6 p-0">
                                <div class="left_block bg-none  pl-lg-4">
                                     <img src="~/Content/assets/images/Illustation2.png" alt="left Image" class="img-fluid">
                                </div>
                            </div>
                            <div class="col-lg-6">
                                <section class="login-block">
                                    <div class="row">
                                        <div class="col-sm-12">
                                            <form id="verificationCode" name="verificationCode">
                                                <div class="auth-box card" style="box-shadow: none; border: none;">
                                                    <div class="card-block">
                                                        <div class="row">
                                                            <div class="col-md-12">
                                                                <img src="~/Content/assets/images//logo.png" alt="Logo" class="img-fluid">
                                                            </div>
                                                            <div class="col-md-12 my-4">
                                                                <h3 class="heading m-0">@(BeautyBook_Vendor.Resources.Languages.Verify_your_email)</h3>
                                                            </div>
                                                        </div>
                                                        <div class="form-group mb-3">
                                                            <label class="input-label" for="email">@(BeautyBook_Vendor.Resources.Languages.Email)</label>
                                                            <input type="email" class="form-control form-control-lg" name="signInEmail" id="signInEmail" tabindex="1" placeholder="email@address.com" aria-label="email@address.com" disabled>
                                                        </div>

                                                        <div class="form-group" id="emailVerifycode" style="display:none;text-align:left !important;">
                                                            <label class="input-label" for="signinSrEmail">@(BeautyBook_Vendor.Resources.Languages.Please_enter_the_6_digit_code)</label>

                                                            <div class="form-group form-primary digit-group row m-0 verification-code">
                                                                <input type="text" class="form-control col email-code" maxlength=1 style="font-size: 35px;">
                                                                <input type="text" class="form-control col email-code" maxlength=1 style="font-size: 35px;">
                                                                <input type="text" class="form-control col email-code" maxlength=1 style="font-size: 35px;">
                                                                <input type="text" class="form-control col email-code" maxlength=1 style="font-size: 35px;">
                                                                <input type="text" class="form-control col email-code" maxlength=1 style="font-size: 35px;">
                                                                <input type="text" class="form-control col email-code" maxlength=1 style="font-size: 35px;">
                                                            </div>
                                                            <label id="EmailVerifycode-error" class="error" for="EmailVerifycode" style="display:none;"></label>
                                                            <input type="hidden" class="form-control form-control-lg" tabindex="4" name="EmailVerifycode" id="EmailVerifycode" placeholder="@(BeautyBook_Vendor.Resources.Languages.Enter_code)" aria-label="email@address.com">
                                                            <p class="text-right">
                                                                <a href="#" class="fs-15" id="resendCode" onclick="resendverifyCode(true);">@(BeautyBook_Vendor.Resources.Languages.Resend)</a>
                                                                <a href="#" class="fs-15" id="resendCodeloading" style="display:none;">@(BeautyBook_Vendor.Resources.Languages.Resend) <i class="fa fa-circle-o-notch ml-1 fa-spin" aria-hidden="true"></i></a>
                                                            </p>
                                                        </div>
                                                        <div class="mt-3 row">

                                                            <div class="col-lg-6">
                                                                <button type="button" class="btn btn-lg btn-block btn-link mt-0" id="Skipbtn" tabindex="2" onclick="Skip();">@(BeautyBook_Vendor.Resources.Languages.Skip)</button>

                                                                <button type="button" onclick="location.reload();" class="btn btn-lg btn-block btn-link mt-0" tabindex="6" id="Cancelbtn" style="display:none;">@(BeautyBook_Vendor.Resources.Languages.Cancel)</button>
                                                            </div>
                                                            <div class="col-lg-6">
                                                                @*verifyCode button with loading button*@
                                                                <button type="submit" name="submit" class="btn btn-lg btn-block btn-primary mt-0" tabindex="5" id="Verifybtn" style="display:none;">@(BeautyBook_Vendor.Resources.Languages.Verify)</button>
                                                                <button type="button" class="btn btn-lg btn-block btn-primary mt-0" id="Verifybtnloading" style="display:none;" disabled>
                                                                    @(BeautyBook_Vendor.Resources.Languages.Verify) <i class="fa fa-circle-o-notch ml-1 fa-spin" aria-hidden="true"></i>
                                                                </button>

                                                                @*sendverifyCode button with loading button*@
                                                            <button type="button" class="btn btn-lg btn-block btn-primary mt-0" tabindex="3" onclick="sendverifyCode();" id="sendVerifycode">
                                                                @(BeautyBook_Vendor.Resources.Languages.Send_Code)
                                                            </button>
                                                            <button type="button" class="btn btn-lg btn-block btn-primary mt-0" id="sendVerifycodeloading" style="display:none;" disabled>
                                                                @(BeautyBook_Vendor.Resources.Languages.Sending_Code) <i class="fa fa-circle-o-notch ml-1 fa-spin" aria-hidden="true"></i>
                                                            </button>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </form>
                                        </div>
                                    </div>
                                </section>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <!-- Scripts -->
    <script src="~/Content/assets/js/jquery/jquery-3.6.0.min.js"></script>
    <script src="~/Content/assets/js/popper/popper.min.js"></script>
    <script src="~/Content/assets/js/bootstrap/bootstrap.min.js"></script>


    <!-- Plugin Path -->
    <script>var plugin_path = './js/';</script>
    <script src="~/Content/BeautyBook_VendorAPI/APIEndPoint.js"></script>
    <script src="~/Content/BeautyBook_VendorAPI/AuthenticationAPI/EmailVerificationCode/EmailVerificationCode.js"></script>
    <script src="~/Content/assets/js/sweetalert/sweetalert2.min.js"></script>
    <script src="~/Content/assets/js/main.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.19.0/jquery.validate.js"></script>


    <script>
        //getCookie
        function getCookie(cname) {
            var name = cname + "=";
            var ca = document.cookie.split(';');
            for (var i = 0; i < ca.length; i++) {
                var c = ca[i];
                while (c.charAt(0) == ' ') {
                    c = c.substring(1);
                }
                if (c.indexOf(name) == 0) {
                    return c.substring(name.length, c.length);
                }
            }
            return "";

        }

        //Code Verification
        var verificationCode = [];
        $(".verification-code input[type=text]").keyup(function (e) {
            // Get Input for Hidden Field
            $(".verification-code input[type=text]").each(function (i) {
                verificationCode[i] = $(".verification-code input[type=text]")[i].value;
                $('#EmailVerifycode').val(verificationCode.join(''));
                console.log($('#EmailVerifycode').val());
            });
            var InputVal = $(this).val();
            if (jQuery.trim(InputVal) != "" && jQuery.trim(InputVal) != null) {
                $(this).next().focus();
            } else {
                if (jQuery.trim(event.key) == 'Backspace') {
                    $(this).prev().focus();
                }
            }
        }); // keyup

        $(document).ready(function () {
            var Language = getCookie("Languages");
            $('#LanSelect').val(Language == "" ? 'en' : Language);
            if (Language == "en") {
                $('html').attr('dir', 'ltl');
                $('html').attr('lang', 'en');
            } else if (Language == "ar") {
                $('html').attr('dir', 'rtl');
                $('html').attr('lang', 'ar');
                $('body').addClass('arabic-lan-EmailVerificationCode');
            }
        });
        //var validator = '';
        $(function () {
            $("form[name='verificationCode']").validate({
                //rules: {
                //    EmailVerifycode: {
                //        required: true,
                //        minlength: 6,
                //        maxlength: 6
                //    },
                //},
                //messages: {
                //    EmailVerifycode: {
                //        required: "Verify code is required",
                //    },
                //},
                submitHandler: function () {
                    let EmailVerifycode = $("#EmailVerifycode").val();
                    if (EmailVerifycode == "" || EmailVerifycode == null || EmailVerifycode.length < 6) {
                        $("#EmailVerifycode-error").show();
                        $(".verification-code Input").addClass("error");
                        $("#EmailVerifycode-error").text("Verify code is required");
                    } else {
                        $("#EmailVerifycode-error").hide();
                        $(".verification-code Input").removeClass(".error");
                        $("#EmailVerifycode-error").text("");
                        verifyCode();
                    }
                }
            });
        });
        $('#Cancelbtn').click(function () {

            //if (validator.errorList.length != 0) {
            //    validator.destroy();
            //}
            $('#emailVerifycode').hide();
            $('#sendVerifycode').show();
            $('#Cancelbtn').hide();
            $('#Skipbtn').show();
            $('#Verifybtn').hide();
        });
    </script>
    <script src="~/Content/assets/js/arabic.js"></script>

</body>
</html>



